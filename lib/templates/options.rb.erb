require 'optparse'

require '<%= gem_name %>/version'

module <%= class_name %>
  def self.parse_options

    options = Hash.new {}

    optparse = OptionParser.new do |opts|
      opts.banner = "Usage: <%= gem_name %> [options]"

      opts.on('-a', '--arg ARG', 'This option requires an argument') do |arg|
        options[:arg] = arg
      end

      opts.on('-b', '--bool', 'This argument is boolean') do
        options[:password] = true
      end

      opts.on('-h', '--help', 'Display this screen') do
        puts opts
        exit
      end

      # The GNU coding standard only specifies --version, and is not specific
      # about -v or -V
      opts.on('-V', '--version', 'Display version') do
        puts <%= class_name %>::VERSION
        exit
      end
    end

    optparse.parse!

    options

  end
end
